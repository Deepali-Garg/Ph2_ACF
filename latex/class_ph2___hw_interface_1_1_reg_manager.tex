\hypertarget{class_ph2___hw_interface_1_1_reg_manager}{
\section{Ph2\_\-Hw\-Interface::Reg\-Manager Class Reference}
\label{class_ph2___hw_interface_1_1_reg_manager}\index{Ph2_HwInterface::RegManager@{Ph2\_\-HwInterface::RegManager}}
}
Permit connection to given boards and r/w given registers.  


{\tt \#include $<$Reg\-Manager.h$>$}

Inheritance diagram for Ph2\_\-Hw\-Interface::Reg\-Manager::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{class_ph2___hw_interface_1_1_reg_manager}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
virtual bool \hyperlink{class_ph2___hw_interface_1_1_reg_manager_31174516fef6706c88c3f59dd93e4fdf}{Write\-Reg} (const std::string \&p\-Reg\-Node, const uint32\_\-t \&p\-Val)
\begin{CompactList}\small\item\em Write a register. \item\end{CompactList}\item 
virtual bool \hyperlink{class_ph2___hw_interface_1_1_reg_manager_be0d1107ea6f4804b2ddc92509f181d6}{Write\-Stack\-Reg} (const std::vector$<$ std::pair$<$ std::string, uint32\_\-t $>$ $>$ \&p\-Vec\-Reg)
\begin{CompactList}\small\item\em Write a stack of registers. \item\end{CompactList}\item 
virtual bool \hyperlink{class_ph2___hw_interface_1_1_reg_manager_888f5cccb05daa28896cf622abfdcbd6}{Write\-Block\-Reg} (const std::string \&p\-Reg\-Node, const std::vector$<$ uint32\_\-t $>$ \&p\-Values)
\begin{CompactList}\small\item\em Write a block of values in a register. \item\end{CompactList}\item 
virtual uhal::Val\-Word$<$ uint32\_\-t $>$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_077e0a18592206365150680213345112}{Read\-Reg} (const std::string \&p\-Reg\-Node)
\begin{CompactList}\small\item\em Read a value in a register. \item\end{CompactList}\item 
virtual uhal::Val\-Vector$<$ uint32\_\-t $>$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_6481c211d27badc409ff0e7af20575e4}{Read\-Block\-Reg} (const std::string \&p\-Reg\-Node, const uint32\_\-t \&p\-Blocksize)
\begin{CompactList}\small\item\em Read a block of values in a register. \item\end{CompactList}\item 
void \hyperlink{class_ph2___hw_interface_1_1_reg_manager_b4e24cf318772c09a6c7e24b88b1dedb}{Stack\-Write\-Time\-Out} ()
\begin{CompactList}\small\item\em Time Out for sending the register/value stack in the writting. It has only to be set in a detached thread from the one you're working on. \item\end{CompactList}\item 
\hyperlink{class_ph2___hw_interface_1_1_reg_manager_fc90c93f9e6771d2bf841883567b9eeb}{Reg\-Manager} (const char $\ast$pu\-Hal\-Config\-File\-Name, uint32\_\-t p\-Board\-Id)
\begin{CompactList}\small\item\em Constructor of the \hyperlink{class_ph2___hw_interface_1_1_reg_manager}{Reg\-Manager} class. \item\end{CompactList}\item 
virtual \hyperlink{class_ph2___hw_interface_1_1_reg_manager_5d650c4e6467153f98f999abbbfc354c}{$\sim$Reg\-Manager} ()
\begin{CompactList}\small\item\em Destructor of the \hyperlink{class_ph2___hw_interface_1_1_reg_manager}{Reg\-Manager} class. \item\end{CompactList}\item 
virtual void \hyperlink{class_ph2___hw_interface_1_1_reg_manager_409c95948e25ea5fb7f897926e9de1e6}{Stack\-Reg} (const std::string \&p\-Reg\-Node, const uint32\_\-t \&p\-Val, bool p\-Send=false)
\begin{CompactList}\small\item\em Stack the commands, deliver when full or timeout. \item\end{CompactList}\end{CompactItemize}
\subsection*{Protected Attributes}
\begin{CompactItemize}
\item 
uhal::Hw\-Interface $\ast$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_0d4908ec834a3a0b7d8139872fd0a4a0}{f\-Board}
\item 
const char $\ast$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_aaa29ca65c283acc645132c7bef0f24f}{f\-UHal\-Config\-File\-Name}
\item 
std::vector$<$ std::pair$<$ std::string, uint32\_\-t $>$ $>$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_2302b9eaa5f8edfbaa5cc8d844265833}{f\-Stack\-Reg}
\item 
std::thread \hyperlink{class_ph2___hw_interface_1_1_reg_manager_3aa2f1c4769f122a2e902f2d70865b30}{f\-Thread}
\item 
bool \hyperlink{class_ph2___hw_interface_1_1_reg_manager_e337041a55b10db74bbd8e171424807a}{f\-Deactive\-Thread}
\item 
std::mutex \hyperlink{class_ph2___hw_interface_1_1_reg_manager_b5fdbe722820897d3a1344f300cc4a92}{f\-Board\-Mutex}
\end{CompactItemize}


\subsection{Detailed Description}
Permit connection to given boards and r/w given registers. 



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_fc90c93f9e6771d2bf841883567b9eeb}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!RegManager@{RegManager}}
\index{RegManager@{RegManager}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[RegManager]{\setlength{\rightskip}{0pt plus 5cm}Ph2\_\-Hw\-Interface::Reg\-Manager::Reg\-Manager (const char $\ast$ {\em pu\-Hal\-Config\-File\-Name}, uint32\_\-t {\em p\-Board\-Id})}}
\label{class_ph2___hw_interface_1_1_reg_manager_fc90c93f9e6771d2bf841883567b9eeb}


Constructor of the \hyperlink{class_ph2___hw_interface_1_1_reg_manager}{Reg\-Manager} class. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pu\-Hal\-Config\-File\-Name}]: path of the u\-Hal Config File \end{description}
\end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_5d650c4e6467153f98f999abbbfc354c}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!~RegManager@{$\sim$RegManager}}
\index{~RegManager@{$\sim$RegManager}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[$\sim$RegManager]{\setlength{\rightskip}{0pt plus 5cm}Ph2\_\-Hw\-Interface::Reg\-Manager::$\sim$Reg\-Manager ()\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_5d650c4e6467153f98f999abbbfc354c}


Destructor of the \hyperlink{class_ph2___hw_interface_1_1_reg_manager}{Reg\-Manager} class. 



\subsection{Member Function Documentation}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_6481c211d27badc409ff0e7af20575e4}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!ReadBlockReg@{ReadBlockReg}}
\index{ReadBlockReg@{ReadBlockReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[ReadBlockReg]{\setlength{\rightskip}{0pt plus 5cm}uhal::Val\-Vector$<$ uint32\_\-t $>$ Ph2\_\-Hw\-Interface::Reg\-Manager::Read\-Block\-Reg (const std::string \& {\em p\-Reg\-Node}, const uint32\_\-t \& {\em p\-Blocksize})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_6481c211d27badc409ff0e7af20575e4}


Read a block of values in a register. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Reg\-Node}]: Node of the register to read \item[{\em p\-Blocksize}]: Size of the block to read \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Val\-Vector block values of the register \end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_077e0a18592206365150680213345112}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!ReadReg@{ReadReg}}
\index{ReadReg@{ReadReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[ReadReg]{\setlength{\rightskip}{0pt plus 5cm}uhal::Val\-Word$<$ uint32\_\-t $>$ Ph2\_\-Hw\-Interface::Reg\-Manager::Read\-Reg (const std::string \& {\em p\-Reg\-Node})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_077e0a18592206365150680213345112}


Read a value in a register. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Reg\-Node}]: Node of the register to read \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Val\-Word value of the register \end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_409c95948e25ea5fb7f897926e9de1e6}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!StackReg@{StackReg}}
\index{StackReg@{StackReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[StackReg]{\setlength{\rightskip}{0pt plus 5cm}void Ph2\_\-Hw\-Interface::Reg\-Manager::Stack\-Reg (const std::string \& {\em p\-Reg\-Node}, const uint32\_\-t \& {\em p\-Val}, bool {\em p\-Send} = {\tt false})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_409c95948e25ea5fb7f897926e9de1e6}


Stack the commands, deliver when full or timeout. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Reg\-Node}]: Register to write \item[{\em p\-Val}]: Value to write \item[{\em p\-Send}]: Send the stack to write or nor (1/0) \end{description}
\end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_b4e24cf318772c09a6c7e24b88b1dedb}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!StackWriteTimeOut@{StackWriteTimeOut}}
\index{StackWriteTimeOut@{StackWriteTimeOut}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[StackWriteTimeOut]{\setlength{\rightskip}{0pt plus 5cm}void Ph2\_\-Hw\-Interface::Reg\-Manager::Stack\-Write\-Time\-Out ()}}
\label{class_ph2___hw_interface_1_1_reg_manager_b4e24cf318772c09a6c7e24b88b1dedb}


Time Out for sending the register/value stack in the writting. It has only to be set in a detached thread from the one you're working on. 

\hypertarget{class_ph2___hw_interface_1_1_reg_manager_888f5cccb05daa28896cf622abfdcbd6}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!WriteBlockReg@{WriteBlockReg}}
\index{WriteBlockReg@{WriteBlockReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[WriteBlockReg]{\setlength{\rightskip}{0pt plus 5cm}bool Ph2\_\-Hw\-Interface::Reg\-Manager::Write\-Block\-Reg (const std::string \& {\em p\-Reg\-Node}, const std::vector$<$ uint32\_\-t $>$ \& {\em p\-Values})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_888f5cccb05daa28896cf622abfdcbd6}


Write a block of values in a register. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Reg\-Node}]: Node of the register to write \item[{\em p\-Values}]: Block of values to write \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]boolean confirming the writing \end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_31174516fef6706c88c3f59dd93e4fdf}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!WriteReg@{WriteReg}}
\index{WriteReg@{WriteReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[WriteReg]{\setlength{\rightskip}{0pt plus 5cm}bool Ph2\_\-Hw\-Interface::Reg\-Manager::Write\-Reg (const std::string \& {\em p\-Reg\-Node}, const uint32\_\-t \& {\em p\-Val})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_31174516fef6706c88c3f59dd93e4fdf}


Write a register. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Reg\-Node}]: Node of the register to write \item[{\em p\-Val}]: Value to write \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]boolean confirming the writing \end{Desc}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_be0d1107ea6f4804b2ddc92509f181d6}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!WriteStackReg@{WriteStackReg}}
\index{WriteStackReg@{WriteStackReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[WriteStackReg]{\setlength{\rightskip}{0pt plus 5cm}bool Ph2\_\-Hw\-Interface::Reg\-Manager::Write\-Stack\-Reg (const std::vector$<$ std::pair$<$ std::string, uint32\_\-t $>$ $>$ \& {\em p\-Vec\-Reg})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_be0d1107ea6f4804b2ddc92509f181d6}


Write a stack of registers. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Vec\-Reg}]: vector containing the registers and the associated values to write \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]boolean confirming the writing \end{Desc}


\subsection{Field Documentation}
\hypertarget{class_ph2___hw_interface_1_1_reg_manager_0d4908ec834a3a0b7d8139872fd0a4a0}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fBoard@{fBoard}}
\index{fBoard@{fBoard}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fBoard]{\setlength{\rightskip}{0pt plus 5cm}uhal::Hw\-Interface$\ast$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_0d4908ec834a3a0b7d8139872fd0a4a0}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-Board}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_0d4908ec834a3a0b7d8139872fd0a4a0}


Board in use \hypertarget{class_ph2___hw_interface_1_1_reg_manager_b5fdbe722820897d3a1344f300cc4a92}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fBoardMutex@{fBoardMutex}}
\index{fBoardMutex@{fBoardMutex}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fBoardMutex]{\setlength{\rightskip}{0pt plus 5cm}std::mutex \hyperlink{class_ph2___hw_interface_1_1_reg_manager_b5fdbe722820897d3a1344f300cc4a92}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-Board\-Mutex}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_b5fdbe722820897d3a1344f300cc4a92}


Mutex to avoid conflict btw threads on shared resources \hypertarget{class_ph2___hw_interface_1_1_reg_manager_e337041a55b10db74bbd8e171424807a}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fDeactiveThread@{fDeactiveThread}}
\index{fDeactiveThread@{fDeactiveThread}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fDeactiveThread]{\setlength{\rightskip}{0pt plus 5cm}bool \hyperlink{class_ph2___hw_interface_1_1_reg_manager_e337041a55b10db74bbd8e171424807a}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-Deactive\-Thread}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_e337041a55b10db74bbd8e171424807a}


Bool to terminate the thread in the destructor \hypertarget{class_ph2___hw_interface_1_1_reg_manager_2302b9eaa5f8edfbaa5cc8d844265833}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fStackReg@{fStackReg}}
\index{fStackReg@{fStackReg}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fStackReg]{\setlength{\rightskip}{0pt plus 5cm}std::vector$<$ std::pair$<$std::string, uint32\_\-t$>$ $>$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_2302b9eaa5f8edfbaa5cc8d844265833}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-Stack\-Reg}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_2302b9eaa5f8edfbaa5cc8d844265833}


Stack of registers \hypertarget{class_ph2___hw_interface_1_1_reg_manager_3aa2f1c4769f122a2e902f2d70865b30}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fThread@{fThread}}
\index{fThread@{fThread}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fThread]{\setlength{\rightskip}{0pt plus 5cm}std::thread \hyperlink{class_ph2___hw_interface_1_1_reg_manager_3aa2f1c4769f122a2e902f2d70865b30}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-Thread}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_3aa2f1c4769f122a2e902f2d70865b30}


Thread for timeout stack writing \hypertarget{class_ph2___hw_interface_1_1_reg_manager_aaa29ca65c283acc645132c7bef0f24f}{
\index{Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}!fUHalConfigFileName@{fUHalConfigFileName}}
\index{fUHalConfigFileName@{fUHalConfigFileName}!Ph2_HwInterface::RegManager@{Ph2\_\-Hw\-Interface::Reg\-Manager}}
\subsubsection[fUHalConfigFileName]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ \hyperlink{class_ph2___hw_interface_1_1_reg_manager_aaa29ca65c283acc645132c7bef0f24f}{Ph2\_\-Hw\-Interface::Reg\-Manager::f\-UHal\-Config\-File\-Name}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{class_ph2___hw_interface_1_1_reg_manager_aaa29ca65c283acc645132c7bef0f24f}


path of the u\-Hal Config File 

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
HWInterface/\hyperlink{_reg_manager_8h}{Reg\-Manager.h}\item 
HWInterface/\hyperlink{_reg_manager_8cc}{Reg\-Manager.cc}\end{CompactItemize}
